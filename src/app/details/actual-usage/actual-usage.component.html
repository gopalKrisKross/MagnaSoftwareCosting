<div class="row">
  <div class="col-md-12">
    <nb-card class="inline-form-card" status="warning">
      <nb-card-header>Actual Usage</nb-card-header>
      <nb-card-body>
        <div class="row justify-content-start" [formGroup]="usageOptionForm">
          <div class="col-6 floating-label-field">
            <select
              class="floating-input"
              placeholder=" "
              formControlName="software"
            >
              <option value="0">Select Software</option>
              <option
                *ngFor="let software of softwareList"
                [value]="software.licenceId"
              >
                {{ software.licenceName }}
              </option>
            </select>
            <label class="floating-label">Software</label>
          </div>
          <div class="col-3 floating-label-field">
            <select
              class="floating-input"
              placeholder=" "
              formControlName="month"
            >
              <option value="0">Select Month</option>
              <option *ngFor="let month of monthList" [value]="month.id">
                {{ month.name }}
              </option>
            </select>
            <label class="floating-label">Month</label>
          </div>
          <div class="col-3 floating-label-field">
            <select
              class="floating-input"
              placeholder=" "
              formControlName="year"
            >
              <option value="0">Select year</option>

              <option *ngFor="let year of yearList" [value]="year.id">
                {{ year.name }}
              </option>
            </select>
            <label class="floating-label" value="0">Year</label>
          </div>
          <div class="col-6 floating-label-field">
            <input
              type="number"
              class="floating-input"
              placeholder=" "
              [min]="0"
              formControlName="licence"
            />
            <label class="floating-label">Licence</label>
          </div>
          <div class="col-6 floating-label-field">
            <input
              type="text"
              class="floating-input"
              placeholder=" "
              formControlName="avgCost"
            />
            <label class="floating-label">Avrage Cost</label>
          </div>
          <div class="col-6 floating-label-field">
            <input
              type="number"
              class="floating-input"
              placeholder=" "
              [min]="0"
              formControlName="totalCost"
            />
            <label class="floating-label">Total Cost</label>
          </div>
        </div>

        <div class="mt-2 col-12 text-end">
          <button
            type="button"
            size="small"
            nbButton
            status="info"
            (click)="saveActualUsage('ActualUsage')"
          >
            save
          </button>
        </div>
      </nb-card-body>
    </nb-card>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <nb-card class="inline-form-card" status="warning">
      <nb-card-header>Usage By Departments In Hours </nb-card-header>
      <nb-card-body>
        <div [formGroup]="departmentForm">
          <table
            class="table table-bordered label mt-3 text-center w-75"
            *ngIf="departmentHoursData"
          >
            <thead class="tHeading">
              <tr>
                <th>Sr.</th>
                <th>Department</th>
                <th>Actual Usage as per IT report in Hours</th>
              </tr>
            </thead>
            <tbody formArrayName="department">
              <tr
                *ngFor="let data of departmentHoursData; let i = index"
                [formGroupName]="i"
              >
                <td>{{ i + 1 }}</td>
                <td>{{ getDepartmentNmae(data.id) }}</td>
                <td class="p-0">
                  <input
                    type="text"
                    class="formInput text-center"
                    status="basic"
                    fieldSize="small"
                    nbInput
                    formControlName="usageHours"
                  />
                </td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td></td>
                <td>Total</td>
                <td>{{ calculateTotal() }}</td>
              </tr>
            </tfoot>
          </table>
        </div>
        <div class="mt-2 col-10 text-end">
          <button type="button" size="small" nbButton status="info">
            save
          </button>
        </div>
      </nb-card-body>
    </nb-card>
  </div>
</div>
